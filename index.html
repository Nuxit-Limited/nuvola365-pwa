<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#0078d4">
  
  <title>Nuvola365 - Your Phone is Your Desktop</title>
  
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <!-- Loading Screen -->
  <div id="loadingScreen" class="loading-screen">
    <div class="loading-content">
      <div class="loading-brand">
        <img src="https://media.licdn.com/dms/image/v2/D4E0BAQGIcoIGtUp-2w/img-crop_100/B4EZxH5TrZGoAQ-/0/1770732731804?e=1772668800&v=beta&t=l0QvMtwZL3ZxfXy0SCWM6kHPq2JZjN6qnfR2ft0NpYg" alt="Nuvola365" class="brand-logo" onerror="this.style.display='none';">
        <div class="brand-name">Nuvola365</div>
      </div>
      <div class="loading-message">Initializing desktop workspace...</div>
      <div class="loading-bar">
        <div class="loading-progress"></div>
      </div>
    </div>
  </div>

  <!-- Welcome / Pitch Screen -->
  <div id="welcomeScreen" class="welcome-screen hidden">
    <div class="welcome-container">
      
      <!-- Branding -->
      <div class="welcome-brand">
        <img src="https://media.licdn.com/dms/image/v2/D4E0BAQGIcoIGtUp-2w/img-crop_100/B4EZxH5TrZGoAQ-/0/1770732731804?e=1772668800&v=beta&t=l0QvMtwZL3ZxfXy0SCWM6kHPq2JZjN6qnfR2ft0NpYg" alt="Nuvola365" class="welcome-logo" onerror="this.style.display='none';">
        <h1>Nuvola365</h1>
      </div>
      
      <!-- The Pitch -->
      <div class="welcome-pitch">
        <h2>Your Phone is Your Desktop</h2>
        <p class="pitch-subtitle">Why buy laptops when your mobile can do it all?</p>
        
        <div class="pitch-points">
          <div class="pitch-point">
            <i class="fas fa-mobile-alt"></i>
            <div>
              <h3>One Device</h3>
              <p>Your phone. That's it.</p>
            </div>
          </div>
          
          <div class="pitch-point">
            <i class="fas fa-plug"></i>
            <div>
              <h3>Plug Into Any Display</h3>
              <p>Monitor, TV, projector - instant desktop</p>
            </div>
          </div>
          
          <div class="pitch-point">
            <i class="fas fa-cloud"></i>
            <div>
              <h3>Full Windows Desktop</h3>
              <p>Windows 365 Cloud PC - anywhere</p>
            </div>
          </div>
          
          <div class="pitch-point">
            <i class="fas fa-building"></i>
            <div>
              <h3>Business Ready</h3>
              <p>Save thousands on hardware</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- CTA -->
      <div class="welcome-cta">
        <button id="signInBtn" class="cta-btn secondary">
          <i class="fas fa-sign-in-alt"></i>
          <span>Sign In</span>
        </button>
        
        <button id="createInstanceBtn" class="cta-btn primary">
          <i class="fas fa-plus-circle"></i>
          <span>Create Nuvola365 Instance</span>
        </button>
        
        <p class="cta-note">Don't have an account yet? Get started in 5 minutes!</p>
      </div>
      
    </div>
  </div>

  <!-- Provisioning Form Screen -->
  <div id="provisioningForm" class="provisioning-screen hidden">
    <div class="provisioning-container">
      
      <button class="back-btn" id="backToWelcome">
        <i class="fas fa-arrow-left"></i>
        <span>Back</span>
      </button>
      
      <div class="provisioning-header">
        <img src="https://media.licdn.com/dms/image/v2/D4E0BAQGIcoIGtUp-2w/img-crop_100/B4EZxH5TrZGoAQ-/0/1770732731804?e=1772668800&v=beta&t=l0QvMtwZL3ZxfXy0SCWM6kHPq2JZjN6qnfR2ft0NpYg" alt="Nuvola365" class="form-logo" onerror="this.style.display='none';">
        <h2>Create Your Workspace</h2>
        <p>Set up your Microsoft 365 cloud workspace in minutes</p>
      </div>
      
      <form id="provisioningFormElement" class="provisioning-form">
        
        <div class="form-group">
          <label for="orgName">
            <i class="fas fa-building"></i>
            Organization Name
          </label>
          <input 
            type="text" 
            id="orgName" 
            placeholder="Acme Corporation" 
            required
            autocomplete="organization"
          >
          <span class="form-hint">Your company or organization name</span>
        </div>
        
        <div class="form-group">
          <label for="adminEmail">
            <i class="fas fa-envelope"></i>
            Admin Email Address
          </label>
          <input 
            type="email" 
            id="adminEmail" 
            placeholder="admin@yourcompany.com" 
            required
            autocomplete="email"
          >
          <span class="form-hint">This will be your workspace administrator</span>
        </div>
        
        <div class="form-group">
          <label for="desiredDomain">
            <i class="fas fa-globe"></i>
            Desired Domain (Optional)
          </label>
          <div class="domain-input">
            <input 
              type="text" 
              id="desiredDomain" 
              placeholder="acme" 
              pattern="[a-z0-9-]+"
              autocomplete="off"
            >
            <span class="domain-suffix">.onmicrosoft.com</span>
          </div>
          <span class="form-hint">Leave blank to auto-generate</span>
        </div>
        
        <div class="form-actions">
          <button type="submit" class="btn-submit">
            <i class="fas fa-rocket"></i>
            <span>Create Workspace</span>
          </button>
        </div>
        
        <div class="form-footer">
          <i class="fas fa-info-circle"></i>
          <span>Setup typically takes 3-5 minutes</span>
        </div>
        
      </form>
      
    </div>
  </div>

  <!-- Provisioning Progress Screen -->
  <div id="provisioningProgress" class="provisioning-screen hidden">
    <div class="provisioning-container">
      
      <div class="progress-header">
        <img src="https://media.licdn.com/dms/image/v2/D4E0BAQGIcoIGtUp-2w/img-crop_100/B4EZxH5TrZGoAQ-/0/1770732731804?e=1772668800&v=beta&t=l0QvMtwZL3ZxfXy0SCWM6kHPq2JZjN6qnfR2ft0NpYg" alt="Nuvola365" class="progress-logo" onerror="this.style.display='none';">
        <h2>Setting Up Your Workspace</h2>
        <p id="progressSubtitle">This will take a few minutes...</p>
      </div>
      
      <div class="progress-main">
        
        <div class="progress-bar-container">
          <div class="progress-bar" id="mainProgressBar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
          </div>
          <div class="progress-percentage" id="progressPercentage">0%</div>
        </div>
        
        <div class="current-step" id="currentStepDisplay">
          <div class="step-icon">
            <i class="fas fa-spinner fa-spin"></i>
          </div>
          <div class="step-text">
            <h3 id="currentStepTitle">Initializing...</h3>
            <p id="currentStepDescription">Preparing your workspace</p>
          </div>
        </div>
        
        <div class="steps-list" id="stepsList">
          <!-- Steps populated dynamically -->
        </div>
        
        <div class="estimated-time" id="estimatedTime">
          <i class="fas fa-clock"></i>
          <span>Estimated time remaining: <strong>3 minutes</strong></span>
        </div>
        
      </div>
      
      <div class="progress-footer">
        <button class="btn-cancel" id="cancelProvisioning">
          <i class="fas fa-times"></i>
          <span>Cancel Setup</span>
        </button>
      </div>
      
    </div>
  </div>

  <!-- Provisioning Complete Screen -->
  <div id="provisioningComplete" class="provisioning-screen hidden">
    <div class="provisioning-container">
      
      <div class="complete-header">
        <div class="success-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <h2>ðŸŽ‰ Workspace Ready!</h2>
        <p>Your Nuvola365 workspace has been created successfully</p>
      </div>
      
      <div class="complete-details">
        
        <div class="detail-card">
          <div class="detail-label">
            <i class="fas fa-globe"></i>
            Workspace Domain
          </div>
          <div class="detail-value" id="completeDomain">-</div>
          <button class="btn-copy" data-copy="completeDomain">
            <i class="fas fa-copy"></i>
          </button>
        </div>
        
        <div class="detail-card">
          <div class="detail-label">
            <i class="fas fa-user"></i>
            Admin Username
          </div>
          <div class="detail-value" id="completeUsername">-</div>
          <button class="btn-copy" data-copy="completeUsername">
            <i class="fas fa-copy"></i>
          </button>
        </div>
        
        <div class="detail-card password-card">
          <div class="detail-label">
            <i class="fas fa-key"></i>
            Temporary Password
          </div>
          <div class="detail-value password-value" id="completePassword">
            <span class="password-hidden">â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</span>
            <span class="password-visible hidden">-</span>
          </div>
          <button class="btn-toggle-password" id="togglePassword">
            <i class="fas fa-eye"></i>
          </button>
          <button class="btn-copy" data-copy="completePassword">
            <i class="fas fa-copy"></i>
          </button>
        </div>
        
        <div class="warning-card">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Important:</strong> Change your password on first login for security
          </div>
        </div>
        
      </div>
      
      <div class="complete-actions">
        <button class="btn-primary" id="openWorkspace">
          <i class="fas fa-external-link-alt"></i>
          <span>Open Workspace</span>
        </button>
        
        <button class="btn-secondary" id="emailDetails">
          <i class="fas fa-envelope"></i>
          <span>Email Login Details</span>
        </button>
      </div>
      
    </div>
  </div>

  <!-- Provisioning Failed Screen -->
  <div id="provisioningFailed" class="provisioning-screen hidden">
    <div class="provisioning-container">
      
      <div class="failed-header">
        <div class="error-icon">
          <i class="fas fa-times-circle"></i>
        </div>
        <h2>Setup Failed</h2>
        <p id="failedSubtitle">We encountered an issue creating your workspace</p>
      </div>
      
      <div class="failed-details">
        
        <div class="error-card">
          <div class="error-label">Failed at:</div>
          <div class="error-value" id="failedStep">-</div>
        </div>
        
        <div class="error-card">
          <div class="error-label">Error:</div>
          <div class="error-value" id="failedMessage">-</div>
        </div>
        
        <div class="error-explanation" id="failedExplanation">
          <!-- Detailed explanation populated dynamically -->
        </div>
        
        <div class="reference-code">
          <i class="fas fa-hashtag"></i>
          <span>Reference: <strong id="failedReference">-</strong></span>
        </div>
        
      </div>
      
      <div class="failed-actions">
        <button class="btn-primary" id="retryProvisioning">
          <i class="fas fa-redo"></i>
          <span>Try Again</span>
        </button>
        
        <button class="btn-secondary" id="contactSupport">
          <i class="fas fa-life-ring"></i>
          <span>Contact Support</span>
        </button>
        
        <button class="btn-tertiary" id="backToHome">
          <i class="fas fa-home"></i>
          <span>Go Back</span>
        </button>
      </div>
      
    </div>
  </div>

  <!-- Desktop Workspace -->
  <div id="desktop" class="desktop hidden">
    
    <!-- Taskbar -->
    <div class="taskbar">
      <div class="taskbar-left">
        <div class="taskbar-brand">
          <img src="https://media.licdn.com/dms/image/v2/D4E0BAQGIcoIGtUp-2w/img-crop_100/B4EZxH5TrZGoAQ-/0/1770732731804?e=1772668800&v=beta&t=l0QvMtwZL3ZxfXy0SCWM6kHPq2JZjN6qnfR2ft0NpYg" alt="Nuvola365" class="taskbar-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <div class="taskbar-logo-fallback" style="display:none;">
            <i class="fas fa-cloud"></i>
          </div>
          <span class="taskbar-brand-name">Nuvola365</span>
        </div>
      </div>
      
      <div class="taskbar-center">
        <div class="workspace-status">Desktop Workspace</div>
      </div>
      
      <div class="taskbar-right">
        <div class="system-tray">
          <button class="tray-btn" title="Connection Status">
            <i class="fas fa-wifi"></i>
          </button>
          <button class="tray-btn" title="Battery">
            <i class="fas fa-battery-three-quarters"></i>
          </button>
        </div>
        <div class="taskbar-clock" id="taskbarClock">
          <div class="clock-time">12:00 PM</div>
          <div class="clock-date">Mon, Jan 1</div>
        </div>
        <button class="tray-btn menu-btn" id="menuBtn" title="Menu">
          <i class="fas fa-ellipsis-v"></i>
        </button>
      </div>
    </div>

    <!-- Main Desktop Area -->
    <div class="desktop-workspace">
      
      <!-- Hero Message -->
      <div class="desktop-hero">
        <h1>Connect to Your Cloud Desktop</h1>
        <p>Choose your workspace below</p>
      </div>
      
      <!-- The 3 Essential Portals -->
      <div class="portal-grid">
        
        <!-- Windows 365 Cloud PC -->
        <div class="portal-card" data-portal="windows365">
          <div class="portal-icon">
            <i class="fab fa-windows"></i>
          </div>
          <div class="portal-content">
            <h2>Windows 365 Cloud PC</h2>
            <p>Your full Windows desktop in the cloud</p>
            <div class="portal-features">
              <span><i class="fas fa-check"></i> Full Windows 11</span>
              <span><i class="fas fa-check"></i> All your apps</span>
              <span><i class="fas fa-check"></i> Your files</span>
            </div>
          </div>
          <button class="portal-btn">
            <span>Launch Desktop</span>
            <i class="fas fa-external-link-alt"></i>
          </button>
        </div>

        <!-- Azure Virtual Desktop -->
        <div class="portal-card" data-portal="avd">
          <div class="portal-icon">
            <i class="fas fa-server"></i>
          </div>
          <div class="portal-content">
            <h2>Azure Virtual Desktop</h2>
            <p>Enterprise apps and remote desktops</p>
            <div class="portal-features">
              <span><i class="fas fa-check"></i> Business apps</span>
              <span><i class="fas fa-check"></i> Secure access</span>
              <span><i class="fas fa-check"></i> Multi-session</span>
            </div>
          </div>
          <button class="portal-btn">
            <span>Launch AVD</span>
            <i class="fas fa-external-link-alt"></i>
          </button>
        </div>

        <!-- Microsoft 365 Portal -->
        <div class="portal-card" data-portal="office365">
          <div class="portal-icon">
            <i class="fas fa-th"></i>
          </div>
          <div class="portal-content">
            <h2>Microsoft 365</h2>
            <p>All your Office apps in one place</p>
            <div class="portal-features">
              <span><i class="fas fa-check"></i> Word, Excel, PowerPoint</span>
              <span><i class="fas fa-check"></i> Teams, Outlook, OneDrive</span>
              <span><i class="fas fa-check"></i> All apps included</span>
            </div>
          </div>
          <button class="portal-btn">
            <span>Open Portal</span>
            <i class="fas fa-external-link-alt"></i>
          </button>
        </div>

      </div>
      
      <!-- Value Proposition Footer -->
      <div class="desktop-footer">
        <div class="value-prop">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Business Savings:</strong> No laptops, no desktops, no tablets. 
            Just your phone + Nuvola365 = Full desktop workspace anywhere.
          </div>
        </div>
      </div>
      
    </div>

  </div>

  <!-- Quick Menu -->
  <div id="quickMenu" class="quick-menu hidden">
    <div class="menu-header">
      <img src="https://media.licdn.com/dms/image/v2/D4E0BAQGIcoIGtUp-2w/img-crop_100/B4EZxH5TrZGoAQ-/0/1770732731804?e=1772668800&v=beta&t=l0QvMtwZL3ZxfXy0SCWM6kHPq2JZjN6qnfR2ft0NpYg" alt="Nuvola365" class="menu-logo" onerror="this.style.display='none';">
      <span>Nuvola365</span>
    </div>
    <div class="menu-items">
      <button class="menu-item" id="aboutBtn">
        <i class="fas fa-info-circle"></i>
        <span>About Nuvola365</span>
      </button>
      <button class="menu-item" id="helpBtn">
        <i class="fas fa-question-circle"></i>
        <span>Help & Support</span>
      </button>
      <div class="menu-divider"></div>
      <button class="menu-item" id="disconnectBtn">
        <i class="fas fa-plug"></i>
        <span>Disconnect Display</span>
      </button>
    </div>
  </div>

  <!-- About Modal -->
  <div id="aboutModal" class="modal hidden">
    <div class="modal-content">
      <button class="modal-close" id="closeAbout">
        <i class="fas fa-times"></i>
      </button>
      <div class="modal-brand">
        <img src="https://media.licdn.com/dms/image/v2/D4E0BAQGIcoIGtUp-2w/img-crop_100/B4EZxH5TrZGoAQ-/0/1770732731804?e=1772668800&v=beta&t=l0QvMtwZL3ZxfXy0SCWM6kHPq2JZjN6qnfR2ft0NpYg" alt="Nuvola365" class="modal-logo" onerror="this.style.display='none';">
        <h2>Nuvola365</h2>
      </div>
      <div class="modal-body">
        <h3>Your Phone is Your Desktop</h3>
        <p>Nuvola365 transforms any mobile device into a full desktop workspace. Just plug into a display and you're ready to work.</p>
        
        <div class="modal-section">
          <h4>Why Nuvola365?</h4>
          <ul>
            <li><strong>Universal:</strong> Works on any phone - iOS or Android</li>
            <li><strong>Cost Effective:</strong> No laptops or desktops needed</li>
            <li><strong>Anywhere:</strong> Your desktop follows you</li>
            <li><strong>Business Ready:</strong> Enterprise security & management</li>
          </ul>
        </div>
        
        <div class="modal-section">
          <h4>How It Works</h4>
          <ol>
            <li>Open Nuvola365 on your phone</li>
            <li>Connect to any display (HDMI, wireless, USB-C)</li>
            <li>Access your Cloud PC or Microsoft 365</li>
            <li>Work on a full desktop interface</li>
          </ol>
        </div>
        
        <p class="modal-footer">Powered by Windows 365 & Azure Virtual Desktop</p>
      </div>
    </div>
  </div>

  <!-- Notifications -->
  <div id="notificationContainer" class="notification-container"></div>

  <script src="config.js"></script>
  <script src="apps.js"></script>
  <script src="system.js"></script>

</body>
</html>
